{% extends "base.html" %}

{% block title %}Tienda Skyline Style{% endblock %}

{% block extra_head %}
<style>
    /* efecto sutil para cards */
    .card-hover {
        transition: transform 0.35s ease, box-shadow 0.35s ease;
    }
    .card-hover:hover {
        transform: translateY(-6px) scale(1.015);
        box-shadow: 0 20px 30px -10px rgba(15,23,42,0.15);
    }
</style>
{% endblock %}

{% block content %}

<section class="max-w-6xl mx-auto px-4 pt-10 pb-16">

    <!-- Header tienda -->
    <div class="flex flex-wrap items-center justify-between gap-3 mb-8">
        <div>
            <h1 class="text-3xl md:text-4xl font-bold text-slate-900 tracking-tight">
                Tienda Skyline
            </h1>
            <p class="text-sm md:text-base text-slate-500 mt-1">
                Dise√±os exclusivos. Drops limitados. Streetwear con actitud.
            </p>
        </div>

        <!-- Filtros -->
        <div class="flex items-center gap-2 text-xs md:text-sm">
            <a href="{{ url_for('main.shop') }}"
               class="px-4 py-2 rounded-full border border-slate-300 text-slate-700 hover:border-amber-500 hover:text-amber-600 transition">
                Todos
            </a>
            <a href="?cat=Hoodie"
               class="px-4 py-2 rounded-full border border-slate-300 text-slate-700 hover:border-amber-500 hover:text-amber-600 transition">
                Hoodies
            </a>
            <a href="?cat=Remera"
               class="px-4 py-2 rounded-full border border-slate-300 text-slate-700 hover:border-amber-500 hover:text-amber-600 transition">
                Remeras
            </a>
            <a href="?cat=Accesorio"
               class="px-4 py-2 rounded-full border border-slate-300 text-slate-700 hover:border-amber-500 hover:text-amber-600 transition">
                Accesorios
            </a>
        </div>
    </div>

    <!-- Productos -->
    <div class="grid sm:grid-cols-2 md:grid-cols-3 gap-6" data-shop-grid>
        {% for product in products %}
            <a href="{{ url_for('main.product_detail', product_id=product.id) }}"
               class="group bg-white border border-slate-200 rounded-2xl overflow-hidden card-hover flex flex-col">
                
                <!-- Imagen -->
                <div class="aspect-square bg-slate-100 overflow-hidden">
                    <img src="{{ product.image }}"
                         alt="{{ product.name }}"
                         class="w-full h-full object-cover group-hover:scale-105 transition duration-500">
                </div>

                <!-- Info -->
                <div class="p-4 flex flex-col gap-1">
                    <p class="text-[11px] uppercase tracking-wide text-slate-400">
                        {{ product.category }}
                    </p>

                    <h3 class="text-sm font-semibold text-slate-900 group-hover:text-amber-600 transition line-clamp-2">
                        {{ product.name }}
                    </h3>

                    <p class="text-sm font-semibold text-amber-500 mt-1">
                        $ {{ product.price }} UYU
                    </p>
                </div>
            </a>
        {% endfor %}
    </div>

</section>

{% endblock %}

{% block extra_js %}
<!-- GSAP animation -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        gsap.from('[data-shop-grid] > a', {
            opacity: 0,
            y: 30,
            stagger: 0.08,
            duration: 0.6,
            ease: 'power3.out'
        });
    });
</script>
{% endblock %}
