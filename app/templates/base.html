<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#ffffff" />
  <meta name="color-scheme" content="light" />
  <title>{% block title %}Skyline Store{% endblock %}</title>

  <!-- Mejoras: preconnect + fuentes seguras (sin depender de CDN obligatorio) -->
  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --ink:#0b1220;
      --muted: rgba(11,18,32,.68);
      --stroke: rgba(15,23,42,.10);

      --a:#2563eb;
      --b:#06b6d4;
      --c:#f59e0b;

      --shadow1: 0 10px 26px rgba(2,6,23,.08);
      --shadow2: 0 18px 50px rgba(2,6,23,.10);

      --r: 14px;
      --r2: 18px;
      --max: 1220px;

      --ease: cubic-bezier(.2,.9,.2,1);
    }

    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--ink);
      background: linear-gradient(180deg,#fff, var(--bg));
    }

    a{color:inherit}
    img{max-width:100%;display:block}
    .container{max-width:var(--max);margin:0 auto;padding:0 18px}

    /* ===== TOPBAR (igual a la imagen) ===== */
    .topbar{
      position:sticky; top:0; z-index:50;
      background: rgba(255,255,255,.92);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--stroke);
    }
    .topbar-inner{
      display:flex; align-items:center; gap:14px;
      padding: 12px 0;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      text-decoration:none;
      font-weight:1000;
      letter-spacing:-.3px;
    }
    .brand-mark{
      width:30px; height:20px;
      border-radius:8px;
      background: linear-gradient(90deg, var(--a), var(--b), var(--c));
      box-shadow: 0 8px 18px rgba(2,6,23,.12);
    }
    .brand-name{
      font-weight:1000;
      text-transform:uppercase;
      font-size:1.05rem;
    }
    .brand-name b{color:var(--a)}

    .nav{
      display:none;
      gap:18px;
      margin-left:10px;
    }
    .nav a{
      text-decoration:none;
      font-weight:900;
      color: rgba(11,18,32,.82);
      padding:10px 6px;
      border-radius:10px;
      transition: background .2s var(--ease), transform .2s var(--ease);
    }
    .nav a:hover{
      background: rgba(37,99,235,.08);
      transform: translateY(-1px);
    }

    /* Search */
    .search{
      margin-left:auto;
      display:flex; align-items:center; gap:8px;
      background:#f3f4f6;
      border:1px solid rgba(15,23,42,.08);
      border-radius:999px;
      padding: 8px 10px;
      min-width: min(460px, 42vw);
      transition: box-shadow .2s var(--ease), border-color .2s var(--ease);
    }
    .search:focus-within{
      border-color: rgba(37,99,235,.22);
      box-shadow: 0 0 0 4px rgba(37,99,235,.14);
      background:#fff;
    }
    .search input{
      border:0; outline:0; background:transparent;
      width:100%;
      font-size: .98rem;
    }
    .search button{
      border:0;
      cursor:pointer;
      background:#fff;
      border:1px solid rgba(15,23,42,.10);
      border-radius:999px;
      padding: 8px 10px;
      transition: transform .2s var(--ease);
    }
    .search button:hover{transform: translateY(-1px)}

    /* Cuenta */
    .account{
      display:flex; align-items:center; gap:8px;
      text-decoration:none;
      font-weight:1000;
      background: rgba(245,158,11,.14);
      border: 1px solid rgba(245,158,11,.25);
      padding: 10px 12px;
      border-radius:999px;
      white-space:nowrap;
      transition: transform .2s var(--ease), box-shadow .2s var(--ease);
    }
    .account:hover{transform: translateY(-1px); box-shadow: 0 10px 18px rgba(2,6,23,.10)}
    .acc-ico{
      width:28px;height:28px;border-radius:999px;
      display:grid;place-items:center;
      background:#fff;
      border:1px solid rgba(15,23,42,.10);
    }

    /* Mobile menu */
    .burger{
      display:inline-flex; align-items:center; justify-content:center;
      width:44px;height:44px;
      border-radius:12px;
      border:1px solid rgba(15,23,42,.10);
      background:#fff;
      cursor:pointer;
      transition: transform .2s var(--ease);
    }
    .burger:hover{transform: translateY(-1px)}
    .mobile{
      display:none;
      border-top:1px solid var(--stroke);
      background:#fff;
      padding: 10px 0 14px;
    }
    .mobile a{
      display:block;
      padding: 12px 18px;
      text-decoration:none;
      font-weight:950;
      color: rgba(11,18,32,.85);
    }
    .mobile a:hover{background: rgba(37,99,235,.06)}
    .mobile.is-open{display:block}

    @media (min-width: 980px){
      .nav{display:flex}
      .burger{display:none}
      .mobile{display:none!important}
    }

    /* Flash messages (si tu backend los usa) */
    .flash-wrap{padding: 10px 0}
    .flash{
      background:#fff;
      border:1px solid var(--stroke);
      box-shadow: var(--shadow1);
      border-radius: 12px;
      padding: 10px 12px;
      margin: 10px 0;
      font-weight:900;
    }

    /* Footer tipo imagen (simple y prolijo) */
    footer{
      margin-top: 30px;
      background: linear-gradient(180deg, #ffffff, #f3f6ff);
      border-top:1px solid var(--stroke);
    }
    .footer-top{
      padding: 18px 0 10px;
      display:flex; flex-wrap:wrap; gap:12px;
      align-items:center; justify-content:space-between;
      color: rgba(11,18,32,.78);
      font-weight:900;
    }
    .footer-links{
      display:flex; flex-wrap:wrap; gap:12px;
      align-items:center;
    }
    .footer-links a{
      text-decoration:none;
      color: rgba(11,18,32,.75);
    }
    .footer-links a:hover{text-decoration:underline}
    .payrow{
      padding: 10px 0 18px;
      display:flex; gap:18px; align-items:center; justify-content:center;
      opacity:.9;
      flex-wrap:wrap;
    }
    .pay{
      width:74px; height:36px;
      border-radius:10px;
      border:1px solid rgba(15,23,42,.10);
      background:#fff;
      display:grid; place-items:center;
      font-weight:1000;
      color: rgba(11,18,32,.75);
    }
    .copyright{
      text-align:center;
      padding: 0 0 18px;
      color: rgba(11,18,32,.55);
      font-weight:800;
      font-size:.92rem;
    }

    /* Accesibilidad: focus visible */
    :focus-visible{
      outline:none;
      box-shadow: 0 0 0 4px rgba(37,99,235,.18);
      border-radius: 10px;
    }

    /* Motion-safe */
    @media (prefers-reduced-motion: reduce){
      *{transition:none!important; scroll-behavior:auto!important}
    }
  </style>

  {% block extra_head %}{% endblock %}
</head>

<body>
  <!-- TOPBAR -->
  <header class="topbar">
    <div class="container topbar-inner">
      <a class="brand" href="/" aria-label="Ir a inicio">
        <span class="brand-mark" aria-hidden="true"></span>
        <span class="brand-name">SKYLINE <b>STYLE</b></span>
      </a>

      <nav class="nav" aria-label="NavegaciÃ³n principal">
        <a href="/">Inicio</a>
        <a href="/shop?categoria=ropa">Ropa</a>
        <a href="/shop?categoria=accesorios">Accesorios</a>
        <a href="/shop?categoria=tecnologia">TecnologÃ­a</a>
        <a href="/shop?ofertas=1">Ofertas</a>
      </nav>

      <form class="search" action="/shop" method="get" role="search" aria-label="Buscar productos">
        <input name="q" type="search" placeholder="Buscar productos..." autocomplete="off" />
        <button type="submit" aria-label="Buscar">ðŸ”Ž</button>
      </form>

      <a class="account" href="/account" aria-label="Mi cuenta">
        <span class="acc-ico" aria-hidden="true">ðŸ‘¤</span>
        <span>Mi Cuenta</span>
      </a>

      <button class="burger" type="button" aria-label="Abrir menÃº" aria-expanded="false" id="burger">â˜°</button>
    </div>

    <div class="mobile" id="mobileMenu" aria-label="MenÃº mÃ³vil">
      <a href="/">Inicio</a>
      <a href="/shop?categoria=ropa">Ropa</a>
      <a href="/shop?categoria=accesorios">Accesorios</a>
      <a href="/shop?categoria=tecnologia">TecnologÃ­a</a>
      <a href="/shop?ofertas=1">Ofertas</a>
      <a href="/account">Mi Cuenta</a>
    </div>
  </header>

  <!-- FLASH (opcional si tu backend usa flashes) -->
  <div class="container flash-wrap">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="flash" role="status">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}
  </div>

  <!-- CONTENIDO -->
  <main>
    {% block content %}{% endblock %}
  </main>

  <!-- FOOTER -->
  <footer>
    <div class="container footer-top">
      <div class="footer-links">
        <a href="/terms">TÃ©rminos y Condiciones</a>
        <a href="/privacy">PolÃ­tica de Privacidad</a>
        <a href="/help">Ayuda / Contacto</a>
      </div>

      <div class="footer-links" aria-label="Redes">
        <a href="#" aria-label="Facebook">ðŸ“˜</a>
        <a href="#" aria-label="Instagram">ðŸ“·</a>
        <a href="#" aria-label="WhatsApp">ðŸ’¬</a>
      </div>
    </div>

    <div class="container payrow" aria-label="Medios de pago">
      <div class="pay">MP</div>
      <div class="pay">VISA</div>
      <div class="pay">MC</div>
      <div class="pay">OCA</div>
    </div>

    <div class="copyright">
      Â© {{ 2025 }} Skyline Store. Todos los derechos reservados.
    </div>
  </footer>

  <script>
    // MenÃº mÃ³vil sin errores
    (function(){
      const btn = document.getElementById("burger");
      const menu = document.getElementById("mobileMenu");
      if(!btn || !menu) return;

      btn.addEventListener("click", () => {
        const open = menu.classList.toggle("is-open");
        btn.setAttribute("aria-expanded", open ? "true" : "false");
      });
    })();
  </script>

  {% block extra_js %}{% endblock %}
</body>
</html>
