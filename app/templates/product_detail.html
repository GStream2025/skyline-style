{% extends "base.html" %}

{% block title %}{{ product.name if product else 'Producto no encontrado' }} - Skyline Style{% endblock %}

{% block extra_head %}
<style>
    .pd-card-hover {
        transition: transform 0.35s ease, box-shadow 0.35s ease;
    }
    .pd-card-hover:hover {
        transform: translateY(-4px);
        box-shadow: 0 20px 40px -18px rgba(15,23,42,0.35);
    }
</style>
{% endblock %}

{% block content %}
<section class="max-w-5xl mx-auto px-4 pt-10 pb-16">

    {% if not product %}
        <div class="bg-white rounded-2xl border border-slate-200 p-8 text-center">
            <h1 class="text-xl font-semibold text-slate-900 mb-2">Producto no encontrado</h1>
            <p class="text-sm text-slate-600">
                Este producto no existe, fue movido o está temporalmente oculto.
            </p>
            <a href="{{ url_for('main.shop') }}"
               class="mt-5 inline-flex px-6 py-2.5 rounded-full bg-slate-900 text-slate-50 text-sm font-medium hover:bg-slate-800 shadow-sm hover:shadow-md transition">
                Volver a la tienda
            </a>
        </div>
    {% else %}

        <!-- Migas / Volver -->
        <div class="flex items-center gap-2 text-xs text-slate-500 mb-6">
            <a href="{{ url_for('main.shop') }}" class="hover:text-amber-500 transition">
                Tienda
            </a>
            <span>/</span>
            <span class="truncate max-w-[60%]">{{ product.name }}</span>
        </div>

        <div class="grid md:grid-cols-2 gap-8 md:gap-10 items-start">

            <!-- IMAGEN PRINCIPAL -->
            <div class="space-y-4" data-product-media>
                <div class="rounded-3xl overflow-hidden bg-slate-100 pd-card-hover">
                    <img src="{{ product.image }}"
                         alt="{{ product.name }}"
                         class="w-full h-full object-cover">
                </div>

                <!-- Mini info visual -->
                <div class="grid grid-cols-3 gap-3 text-[11px] text-slate-500">
                    <div class="rounded-2xl border border-slate-100 bg-white/70 px-3 py-2">
                        <p class="font-semibold text-slate-900 text-xs">Fit</p>
                        <p>Unisex urbano</p>
                    </div>
                    <div class="rounded-2xl border border-slate-100 bg-white/70 px-3 py-2">
                        <p class="font-semibold text-slate-900 text-xs">Talles</p>
                        <p>XS a 5XL</p>
                    </div>
                    <div class="rounded-2xl border border-slate-100 bg-white/70 px-3 py-2">
                        <p class="font-semibold text-slate-900 text-xs">Estilo</p>
                        <p>Streetwear</p>
                    </div>
                </div>
            </div>

            <!-- INFO DEL PRODUCTO -->
            <div class="space-y-5" data-product-info>
                <div class="space-y-2">
                    <p class="text-[11px] uppercase tracking-wide text-slate-400">
                        {{ product.category or 'Colección Skyline' }}
                    </p>
                    <h1 class="text-2xl md:text-3xl font-semibold text-slate-900 leading-tight">
                        {{ product.name }}
                    </h1>
                </div>

                <p class="text-lg md:text-xl font-semibold text-amber-500">
                    $ {{ product.price }} UYU
                </p>

                <div class="space-y-3 text-sm text-slate-600">
                    <p>
                        {{ product.description or 'Prenda de la colección Skyline Style, pensada para combinar con todo y destacar tanto en la calle como en cámara.' }}
                    </p>

                    <ul class="list-disc list-inside space-y-1 text-xs md:text-sm text-slate-600">
                        <li>Streetwear cómodo, con actitud e identidad propia.</li>
                        <li>Cortes pensados para distintos tipos de cuerpo.</li>
                        <li>Ideal para fotos, videos y uso diario.</li>
                    </ul>
                </div>

                <!-- TAGS / INFO EXTRA -->
                <div class="flex flex-wrap gap-2 text-[11px] text-slate-500">
                    <span class="inline-flex items-center gap-1 px-3 py-1 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-100">
                        <span class="h-1.5 w-1.5 rounded-full bg-emerald-500"></span>
                        Producción bajo demanda
                    </span>
                    <span class="inline-flex items-center gap-1 px-3 py-1 rounded-full bg-slate-50 text-slate-600 border border-slate-100">
                        Unisex
                    </span>
                    <span class="inline-flex items-center gap-1 px-3 py-1 rounded-full bg-slate-50 text-slate-600 border border-slate-100">
                        Talles XS–5XL
                    </span>
                </div>

                <!-- CTA -->
                <div class="pt-3 flex flex-wrap items-center gap-3">
                    <a href="{{ url_for('main.cart') }}"
                       class="inline-flex items-center justify-center px-7 py-2.5 rounded-full bg-slate-900 text-slate-50 text-sm font-medium hover:bg-slate-800 shadow-sm hover:shadow-md transition">
                        Agregar al carrito (demo)
                    </a>

                    <p class="text-[11px] text-slate-500 max-w-xs">
                        Esta vista es demostrativa. El flujo de compra real se configura con tu sistema de pagos y tu fábrica aliada.
                    </p>
                </div>

                <!-- INFO TALLE / CUIDADO (TEXTOS DE MARCA) -->
                <div class="pt-2 border-t border-slate-100 text-[11px] md:text-xs text-slate-500 space-y-1">
                    <p><span class="font-semibold text-slate-700">Tip de fit:</span> si estás entre dos talles y te gusta el estilo oversize, elegí el más grande.</p>
                    <p><span class="font-semibold text-slate-700">Cuidados:</span> lavar con agua fría, del revés, y evitar planchar directo sobre el estampado.</p>
                </div>
            </div>
        </div>
    {% endif %}
</section>
{% endblock %}

{% block extra_js %}
<!-- GSAP para animación suave de detalle de producto -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        gsap.from('[data-product-media]', {
            opacity: 0,
            x: -30,
            duration: 0.7,
            ease: 'power3.out'
        });

        gsap.from('[data-product-info]', {
            opacity: 0,
            x: 30,
            duration: 0.7,
            delay: 0.1,
            ease: 'power3.out'
        });
    });
</script>
{% endblock %}
