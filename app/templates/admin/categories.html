{# app/templates/admin/categories.html — Categorías PRO #}
{% extends "admin/base_admin.html" %}
{% block title %}Categorías · Admin{% endblock %}

{% block content %}
  <h1 style="margin:.2rem 0 0;font-weight:1000;letter-spacing:-.5px">Categorías</h1>
  <p class="muted" style="margin:.45rem 0 1rem">
    Control de categorías para filtros del shop (rápido, simple, escalable).
  </p>

  <form method="post" action="{{ url_for('admin.categories_new') }}" class="row cols2" style="margin-bottom:12px">
    <div>
      <label>Nombre</label>
      <input name="name" placeholder="Ej: Accesorios" required>
    </div>
    <div>
      <label>Slug (opcional)</label>
      <input name="slug" placeholder="Ej: accesorios">
    </div>
    <div style="grid-column:1/-1;display:flex;gap:10px;flex-wrap:wrap">
      <button class="btn" type="submit">Crear categoría</button>
      <a class="btn2" href="{{ url_for('admin.products_list') }}">Ir a productos</a>
    </div>
  </form>

  {% if categories and categories|length %}
    <table>
      <thead>
        <tr>
          <th style="width:70px">ID</th>
          <th>Nombre</th>
          <th>Slug</th>
          <th style="width:160px">Acciones</th>
        </tr>
      </thead>
      <tbody>
        {% for c in categories %}
          <tr>
            <td>{{ c.id }}</td>
            <td style="font-weight:950">{{ c.name }}</td>
            <td class="muted">{{ c.slug }}</td>
            <td>
              <form method="post" action="{{ url_for('admin.categories_delete', cat_id=c.id) }}" onsubmit="return confirm('Eliminar categoría?')" style="margin:0">
                <button class="btn2" type="submit">Eliminar</button>
              </form>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <div class="msg info">No hay categorías. Creá la primera ✅</div>
  {% endif %}
{% endblock %}
