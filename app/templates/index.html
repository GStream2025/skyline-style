{% extends "base.html" %}
{% block title %}Skyline Store · Moda urbana premium{% endblock %}

{% block extra_head %}
<meta name="description" content="{{ meta_description | default('Skyline Store · Moda urbana premium, accesorios y tecnología.') }}">
<link rel="canonical" href="{{ request.url }}">

<link rel="preload" as="image" href="{{ url_for('static', filename='img/banners/hero_home.png') }}">
{% endblock %}

{% block content %}
<section class="home">

  <!-- TOP BENEFITS + SEARCH -->
  <section class="home-top section">
    <div>
      <div class="badges">
        <span class="badge"><span class="d"></span> Envío rápido</span>
        <span class="badge"><span class="d"></span> Pago seguro</span>
        <span class="badge"><span class="d"></span> Soporte 24/7</span>
        <span class="badge"><span class="d"></span> Compra protegida</span>
      </div>

      <div class="quick-actions">
        <a class="qa" href="{{ url_for('shop.shop') }}?sort=new"><span class="dot"></span> Novedades</a>
        <a class="qa" href="{{ url_for('shop.shop') }}?q=oferta"><span class="dot"></span> Ofertas</a>
        <a class="qa" href="{{ url_for('shop.shop') }}"><span class="dot"></span> Ver todo</a>
      </div>
    </div>

    <form class="home-search" action="{{ url_for('shop.shop') }}" method="get" role="search">
      <div class="search">
        <label for="q" class="sr-only">Buscar</label>
        <input id="q" name="q" placeholder="Buscar en Skyline Store…" autocomplete="off">
        <button type="submit">Buscar</button>
      </div>
    </form>
  </section>

  <!-- HERO -->
  <section class="hero-wrap section">

    <aside class="side">
      <h2>Categorías</h2>
      <ul>
        <li><a href="{{ url_for('shop.shop') }}?categoria=ropa">Ropa urbana</a></li>
        <li><a href="{{ url_for('shop.shop') }}?categoria=accesorios">Accesorios</a></li>
        <li><a href="{{ url_for('shop.shop') }}?categoria=tecnologia">Tecnología</a></li>
        <li><a href="{{ url_for('shop.shop') }}?sort=new">Lo nuevo</a></li>
      </ul>
    </aside>

    <div class="hero">
      <img
        src="{{ url_for('static', filename='img/banners/hero_home.png') }}"
        alt="Nueva colección Skyline Store"
        loading="eager"
        decoding="async"
      >
      <div class="hero-overlay">
        <div class="hero-card">
          <span class="hero-kicker"><span class="d"></span> TEMPORADA 2026</span>
          <h1>Streetwear <span class="accent">premium</span></h1>
          <p class="hero-sub">Moda urbana + tecnología con diseño profesional.</p>
          <div class="hero-ctas">
            <a href="{{ url_for('shop.shop') }}" class="btn primary">Explorar tienda</a>
            <a href="{{ url_for('shop.shop') }}?sort=new" class="btn ghost">Novedades</a>
          </div>
        </div>
      </div>
    </div>

    <aside class="panel">
      <div class="pcard">
        <b>Tu cuenta</b>
        <span>Accedé a pedidos y beneficios.</span>
        <div class="row">
          <a class="pbtn primary" href="/account">Ingresar</a>
          <a class="pbtn" href="/account">Crear cuenta</a>
        </div>
      </div>
    </aside>

  </section>

  <!-- FEATURED -->
  <section class="section">
    <header class="block-head">
      <h2 class="block-title">Destacados</h2>
      <span class="block-sub">Selección premium</span>
    </header>

    {% set featured_list = featured if featured is defined else [] %}

    <div class="gridP">
      {% for p in featured_list %}
      <article class="cardP">
        <div class="ph">
          <img src="{{ p.img }}" alt="{{ p.title }}" loading="lazy">
        </div>
        <div class="body">
          <div class="price">{{ p.price }}</div>
          <div class="name">{{ p.title }}</div>
          <a class="buy" href="{{ p.href }}">Comprar</a>
        </div>
      </article>
      {% endfor %}
    </div>

    {% if featured_list|length == 0 %}
      <div class="empty">Todavía no hay productos destacados.</div>
    {% endif %}
  </section>

</section>

<button class="to-top" id="toTop">↑</button>
{% endblock %}
