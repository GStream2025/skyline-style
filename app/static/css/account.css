/* ==========================================================
   Skyline Store — Account (ULTRA PRO v4 FINAL)
   ✅ 100% scoped a .ss-account
   ✅ dark auto + premium ring + perf optimizations
   ✅ safe-area (iOS) + mobile viewport fixes
========================================================== */

/* ---------- Root scope ---------- */
.ss-account{
  /* Tokens */
  --bg0:#ffffff;
  --bg1:#f7f8fb;
  --ink:#0b1220;
  --muted: rgba(11,18,32,.66);

  --a:#2563eb;
  --b:#06b6d4;
  --c:#f59e0b;
  --g:#22c55e;

  --stroke: rgba(15,23,42,.10);
  --stroke2: rgba(15,23,42,.08);

  --ring: 0 0 0 4px rgba(37,99,235,.18);
  --ring2: 0 0 0 6px rgba(6,182,212,.14);

  --shadow1: 0 12px 40px rgba(2,6,23,.14);
  --shadow2: 0 26px 90px rgba(2,6,23,.18);

  --glass: rgba(255,255,255,.72);
  --glass2: rgba(255,255,255,.88);

  --r-lg: 22px;
  --r-md: 16px;
  --r-sm: 14px;

  /* Layout */
  position: relative;
  min-height: calc(100vh - 120px);
  min-height: calc(100svh - 120px); /* mobile dynamic viewport */
  padding: clamp(22px, 3vw, 36px) 14px;

  /* safe-area (iOS) */
  padding-bottom: calc(14px + constant(safe-area-inset-bottom, 0px));
  padding-bottom: calc(14px + env(safe-area-inset-bottom, 0px));

  display:flex;
  align-items:center;
  justify-content:center;

  /* Rendering */
  color: var(--ink);
  text-rendering: geometricPrecision;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* Prevent accidental horizontal scroll */
  overflow-x: clip; /* modern */
  overflow-x: hidden; /* fallback */

  background:
    radial-gradient(circle at 0% 0%, rgba(37,99,235,.10), transparent 42%),
    radial-gradient(circle at 100% 0%, rgba(6,182,212,.08), transparent 46%),
    radial-gradient(circle at 50% 100%, rgba(245,158,11,.08), transparent 48%),
    linear-gradient(180deg, var(--bg0), var(--bg1));
}

@media (prefers-color-scheme: dark){
  .ss-account{
    --bg0:#070b14;
    --bg1:#0b1020;
    --ink:#eef2ff;
    --muted: rgba(238,242,255,.70);

    --stroke: rgba(148,163,184,.18);
    --stroke2: rgba(148,163,184,.12);

    --ring: 0 0 0 4px rgba(6,182,212,.18);
    --ring2: 0 0 0 6px rgba(37,99,235,.12);

    --shadow1: 0 12px 40px rgba(0,0,0,.38);
    --shadow2: 0 34px 110px rgba(0,0,0,.55);

    --glass: rgba(9,12,24,.64);
    --glass2: rgba(9,12,24,.80);
  }
}

/* ---------- Background layer ---------- */
.ss-account__bg{
  position:absolute;
  inset:0;
  overflow:hidden;
  pointer-events:none;
  contain: layout paint;
}

.ss-account__bg .grid{
  position:absolute;
  inset:-2px;
  background:
    radial-gradient(circle at 20% 10%, rgba(56,189,248,.14), transparent 35%),
    radial-gradient(circle at 80% 20%, rgba(250,204,21,.12), transparent 38%),
    radial-gradient(circle at 40% 90%, rgba(244,114,182,.10), transparent 42%),
    linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.0));
  filter: saturate(1.10);
  opacity: .95;
}

.ss-account__bg .blob{
  position:absolute;
  width:520px;
  height:520px;
  border-radius:999px;
  filter: blur(58px);
  opacity:.33;
  transform: translate3d(0,0,0);
}

.ss-account__bg .b1{
  left:-160px;
  top:-180px;
  background: radial-gradient(circle at 30% 30%, rgba(56,189,248,.9), rgba(56,189,248,0));
}

.ss-account__bg .b2{
  right:-180px;
  bottom:-200px;
  background: radial-gradient(circle at 40% 40%, rgba(250,204,21,.85), rgba(250,204,21,0));
}

/* Performance: reduce blur on small devices */
@media (max-width: 640px){
  .ss-account__bg .blob{ filter: blur(44px); }
}

/* ---------- Container ---------- */
.ss-account__container{
  position: relative;
  width: min(1100px, 100%);
  display:grid;
  gap: 18px;
  grid-template-columns: 1.12fr .88fr;
  align-items: stretch;
  contain: layout paint;
}

/* ---------- Left hero ---------- */
.ss-account__hero{
  padding: clamp(18px, 2.5vw, 26px);
  border-radius: var(--r-lg);
  background: linear-gradient(135deg, var(--glass2), var(--glass));
  border: 1px solid var(--stroke2);
  box-shadow: var(--shadow2);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  color: var(--ink);
  overflow:hidden;
  position:relative;
}

@media (max-width: 640px){
  .ss-account__hero{
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }
}

.ss-account__hero::before{
  content:"";
  position:absolute;
  inset:-40%;
  background:
    radial-gradient(circle at 25% 20%, rgba(37,99,235,.14), transparent 55%),
    radial-gradient(circle at 75% 25%, rgba(6,182,212,.12), transparent 55%),
    radial-gradient(circle at 50% 85%, rgba(245,158,11,.10), transparent 55%);
  filter: blur(18px);
  opacity: .95;
  pointer-events:none;
}

.ss-account__hero > *{ position:relative; }

.brand{
  display:flex;
  align-items:center;
  gap:12px;
  margin-bottom: 12px;
}

.logo-mark{
  width:42px;
  height:42px;
  border-radius: 14px;
  display:grid;
  place-items:center;
  background: linear-gradient(135deg, rgba(37,99,235,.22), rgba(6,182,212,.16));
  border: 1px solid var(--stroke2);
  color: var(--ink);
}

.brand-name{ font-weight: 1000; letter-spacing: .2px; }
.brand-tag{ color: var(--muted); font-size: .95rem; margin-top:2px; font-weight: 850; }

.ss-account__hero h1{
  font-size: clamp(1.7rem, 2.6vw, 2.35rem);
  margin: 10px 0 6px;
  line-height: 1.12;
  letter-spacing: -.6px;
}

.ss-account__hero .lead{
  color: var(--muted);
  margin: 0 0 16px;
  max-width: 60ch;
  line-height: 1.55;
  font-weight: 850;
}

.perks{
  list-style:none;
  padding:0;
  margin: 14px 0 0;
  display:grid;
  gap: 10px;
}

.perks li{
  display:flex;
  align-items:flex-start;
  gap:10px;
  padding: 10px 12px;
  border-radius: var(--r-sm);
  background: rgba(255,255,255,.60);
  border: 1px solid var(--stroke2);
  min-height: 54px;
}

@media (prefers-color-scheme: dark){
  .perks li{ background: rgba(255,255,255,.06); }
}

.perk-ic{
  width:34px;
  height:34px;
  border-radius: 12px;
  display:grid;
  place-items:center;
  background: rgba(255,255,255,.70);
  border: 1px solid var(--stroke2);
  flex: 0 0 auto;
}

@media (prefers-color-scheme: dark){
  .perk-ic{ background: rgba(255,255,255,.06); }
}

.trust{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  margin-top: 16px;
  padding-top: 14px;
  border-top: 1px solid var(--stroke2);
}

.trust-item{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid var(--stroke2);
  background: rgba(255,255,255,.60);
  font-weight: 950;
  font-size: .92rem;
  color: var(--muted);
}

@media (prefers-color-scheme: dark){
  .trust-item{ background: rgba(255,255,255,.06); }
}

.t-dot{
  width:9px;
  height:9px;
  border-radius:999px;
  background: linear-gradient(135deg, rgba(37,99,235,.95), rgba(6,182,212,.88));
  box-shadow: 0 0 0 4px rgba(37,99,235,.14);
}

/* ---------- Right card ---------- */
.ss-account__card{
  border-radius: var(--r-lg);
  background: rgba(255,255,255,.90);
  border: 1px solid var(--stroke2);
  box-shadow: var(--shadow1);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  padding: 18px;
  display:flex;
  flex-direction: column;
  gap: 12px;
}

@media (prefers-color-scheme: dark){
  .ss-account__card{ background: rgba(9,12,24,.70); }
}

.card-head{
  display:flex;
  align-items:flex-start;
  justify-content: space-between;
  gap: 10px;
}

.card-title{
  font-weight: 1000;
  font-size: 1.25rem;
  color: var(--ink);
}

.card-sub{
  color: var(--muted);
  font-weight: 850;
  font-size:.95rem;
  margin-top:2px;
}

.secure-pill{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding: 7px 10px;
  border-radius: 999px;
  font-size:.85rem;
  background: rgba(34,197,94,.12);
  border: 1px solid rgba(34,197,94,.22);
  color: var(--ink);
  white-space: nowrap;
  font-weight: 1000;
}

.secure-pill .dot{
  width:8px;
  height:8px;
  border-radius: 999px;
  background: rgba(34,197,94,.95);
  box-shadow: 0 0 0 4px rgba(34,197,94,.18);
}

/* ---------- Tabs (with indicator) ---------- */
.tabs{
  position:relative;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
  margin-top: 4px;
}

.tabs::after{
  content:"";
  position:absolute;
  left:0;
  right:0;
  bottom:-6px;
  height:1px;
  background: var(--stroke2);
}

.tab{
  border: 1px solid var(--stroke2);
  background: rgba(255,255,255,.88);
  border-radius: var(--r-sm);
  padding: 10px 12px;
  font-weight: 1000;
  color: var(--muted);
  cursor:pointer;
  transition: transform .12s ease, background .12s ease, border-color .12s ease, box-shadow .12s ease;
  outline: none;
}

@media (prefers-color-scheme: dark){
  .tab{ background: rgba(255,255,255,.06); }
}

.tab:focus-visible{
  box-shadow: var(--ring2);
}

.tab.is-active{
  color:#fff;
  border-color: transparent;
  background: linear-gradient(135deg, rgba(37,99,235,.95), rgba(6,182,212,.88));
  box-shadow: 0 14px 30px rgba(2,6,23,.14);
}

/* Hover only when supported */
@media (hover: hover) and (pointer: fine){
  .tab:hover{ transform: translateY(-1px); }
}

/* ---------- Panels ---------- */
.panel{ display:block; }
.panel.is-hidden{ display:none; }

.actions{ display:grid; gap: 12px; }
.social{ display:grid; gap: 10px; }

/* ---------- Buttons ---------- */
.btn{
  position: relative;
  display:flex;
  align-items:center;
  gap: 10px;
  padding: 14px 14px;
  border-radius: var(--r-md);
  text-decoration:none;
  border: 1px solid transparent;
  transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease, background .12s ease, filter .12s ease;
  user-select:none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.btn:focus-visible{
  box-shadow: var(--ring2);
  border-color: rgba(37,99,235,.25);
}

.btn .btn-ic{
  width:38px;
  height:38px;
  border-radius: 14px;
  display:grid;
  place-items:center;
  border: 1px solid var(--stroke2);
  background: rgba(255,255,255,.70);
  flex: 0 0 auto;
  font-weight: 1000;
  color: var(--ink);
}

@media (prefers-color-scheme: dark){
  .btn .btn-ic{ background: rgba(255,255,255,.06); }
}

.btn .btn-meta{
  margin-left:auto;
  color: var(--muted);
  font-weight: 850;
  font-size:.9rem;
}

.btn.primary{
  background: linear-gradient(135deg, rgba(37,99,235,.95), rgba(6,182,212,.88));
  border-color: rgba(37,99,235,.18);
  color: #fff;
  box-shadow: 0 16px 40px rgba(2,6,23,.16);
}

.btn.primary .btn-ic{
  background: rgba(255,255,255,.14);
  border-color: rgba(255,255,255,.22);
  color: #fff;
}

.btn.ghost{
  background: rgba(255,255,255,.90);
  border-color: var(--stroke2);
  color: var(--ink);
}

@media (prefers-color-scheme: dark){
  .btn.ghost{ background: rgba(255,255,255,.06); }
}

/* Hover only when supported */
@media (hover: hover) and (pointer: fine){
  .btn:hover{ transform: translateY(-1px); filter:saturate(1.03); }
}
.btn:active{ transform: translateY(0px); }

.btn[aria-disabled="true"],
.btn.is-disabled{
  opacity:.55;
  pointer-events:none;
  filter: grayscale(.1);
}

/* ---------- Divider ---------- */
.divider{
  position: relative;
  margin: 10px 0 6px;
  text-align:center;
}

.divider::before{
  content:"";
  position:absolute;
  left:0;
  right:0;
  top: 50%;
  height:1px;
  background: var(--stroke2);
}

.divider span{
  position: relative;
  display:inline-block;
  padding: 0 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.90);
  border: 1px solid var(--stroke2);
  color: var(--muted);
  font-weight: 900;
  font-size:.9rem;
}

@media (prefers-color-scheme: dark){
  .divider span{ background: rgba(9,12,24,.70); }
}

/* ---------- Secondary ---------- */
.secondary{
  display:flex;
  flex-direction: column;
  gap: 10px;
  align-items:center;
  padding-top: 4px;
}

.link{
  text-decoration:none;
  font-weight: 950;
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px dashed rgba(15,23,42,.18);
  background: rgba(255,255,255,.88);
  color: var(--ink);
  transition: background .12s ease, border-color .12s ease, transform .12s ease, box-shadow .12s ease;
}

@media (prefers-color-scheme: dark){
  .link{ background: rgba(255,255,255,.06); border-color: rgba(148,163,184,.22); }
}

.link:focus-visible{
  box-shadow: var(--ring2);
  outline: none;
}

@media (hover:hover) and (pointer:fine){
  .link:hover{ transform: translateY(-1px); border-color: rgba(37,99,235,.22); }
}

.fineprint{
  text-align:center;
  font-size: .9rem;
  color: var(--muted);
  font-weight: 850;
  max-width: 48ch;
  line-height: 1.35;
}

.link2{
  color: var(--ink);
  font-weight: 950;
  text-decoration: none;
  border-bottom: 1px solid rgba(15,23,42,.22);
}

@media (prefers-color-scheme: dark){
  .link2{ border-bottom-color: rgba(148,163,184,.28); }
}

.link2:focus-visible{
  outline: none;
  box-shadow: var(--ring);
  border-bottom-color: transparent;
}

.mini-note{
  border-radius: var(--r-sm);
  padding: 12px 12px;
  border: 1px solid rgba(245,158,11,.24);
  background: rgba(245,158,11,.10);
  color: var(--ink);
  font-weight: 900;
  line-height: 1.35;
}

/* ---------- Responsive ---------- */
@media (max-width: 980px){
  .ss-account__container{ grid-template-columns: 1fr; }
  .ss-account__hero{ order: 2; }
  .ss-account__card{ order: 1; }

  /* extra space for sticky */
  .ss-account{ padding-bottom: 96px; }
}

/* ---------- Mobile sticky helper ---------- */
.ss-account__sticky{
  position:fixed;
  left: 14px;
  right: 14px;

  bottom: calc(14px + constant(safe-area-inset-bottom, 0px));
  bottom: calc(14px + env(safe-area-inset-bottom, 0px));

  z-index: 60;
  display:none;
  justify-content:center;
  pointer-events:none;
}

.ss-account__sticky.is-on{ display:flex; }

.ss-account__sticky .inner{
  pointer-events:auto;
  width: min(720px, 100%);
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
  padding: 12px 12px;
  border-radius: 999px;
  border: 1px solid var(--stroke2);
  background: rgba(255,255,255,.72);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  box-shadow: 0 30px 90px rgba(2,6,23,.16);
}

@media (prefers-color-scheme: dark){
  .ss-account__sticky .inner{ background: rgba(9,12,24,.62); }
}

.ss-account__sticky .t{ display:flex; flex-direction:column; gap:2px; }
.ss-account__sticky b{ color: var(--ink); font-weight: 1000; line-height:1.05; }
.ss-account__sticky span{ color: var(--muted); font-weight: 850; font-size:.9rem; }

.ss-account__sticky .go{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:.55rem;
  border-radius:999px;
  padding:.74rem 1.05rem;
  font-weight:1000;
  text-decoration:none;
  border:1px solid transparent;
  background: linear-gradient(135deg, var(--a), var(--b));
  color:#fff;
  box-shadow: 0 18px 40px rgba(2,6,23,.14);
  -webkit-tap-highlight-color: transparent;
}

.ss-account__sticky .go:focus-visible{
  box-shadow: var(--ring2);
}

/* ---------- Accessibility: high contrast ---------- */
@media (prefers-contrast: more){
  .ss-account{
    --stroke2: rgba(15,23,42,.22);
  }
  @media (prefers-color-scheme: dark){
    .ss-account{
      --stroke2: rgba(148,163,184,.28);
    }
  }
  .tab.is-active,
  .btn.primary,
  .ss-account__sticky .go{
    filter: saturate(1.1) contrast(1.05);
  }
}

/* ---------- Reduced motion ---------- */
@media (prefers-reduced-motion: reduce){
  .ss-account *{ transition:none!important; }
  .ss-account .btn:hover, .ss-account .tab:hover, .ss-account .link:hover{ transform:none!important; }
}
/* ==========================================================
   ULTRA PRO v4 — +20 líneas EXTRA (SPA feel)
   Pegá esto AL FINAL del account.css
========================================================== */

/* 1) Transición suave entre panels (sin layout roto) */
.panel{ display:block; opacity:1; transform:translateY(0); transition:opacity .18s ease, transform .18s ease; }
.panel.is-hidden{ display:block; opacity:0; transform:translateY(6px); pointer-events:none; height:0; overflow:hidden; }

/* 2) Feedback “press” en botones y tabs (solo si hay hover real) */
@media (hover:hover) and (pointer:fine){
  .btn:active, .tab:active{ transform:translateY(0) scale(.99); }
}

/* 3) Sticky entra con animación */
.ss-account__sticky.is-on .inner{ animation:ssPop .18s ease both; }
@keyframes ssPop{ from{ transform:translateY(10px); opacity:.0; } to{ transform:translateY(0); opacity:1; } }

/* 4) Indicador de tab activo más “app” */
.tab.is-active{ position:relative; }
.tab.is-active::after{
  content:""; position:absolute; left:14px; right:14px; bottom:-10px; height:3px; border-radius:99px;
  background: linear-gradient(135deg, rgba(37,99,235,.95), rgba(6,182,212,.88));
}

/* 5) Suaviza bordes del card (micro refine) */
.ss-account__card, .ss-account__hero{ outline:1px solid rgba(255,255,255,.08); outline-offset:-1px; }
@media (prefers-color-scheme: dark){
  .ss-account__card, .ss-account__hero{ outline:1px solid rgba(255,255,255,.04); }
}
